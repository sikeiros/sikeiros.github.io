---
layout: base.njk

pagination:
  data: collections.postsByMonth     # [{ ym: "YYYY-MM", items: [posts] }]
  size: 1
  alias: group

# Month page URL = /archive/posts/YYYY-MM/
permalink: "posts/{{ group.ym }}/"

eleventyComputed:
  title: "Archive {{ group.ym | monthLabel }}"
  htmlClass: "is-archive"
---

<h1>Archive</h1>

<!-- Month ribbon -->
<nav class="months" aria-label="Months">
  {% for m in collections.postsByMonth %}
    <a class="month"
       href="{{ ('/posts/' + m.ym + '/') | url }}"
       {% if m.ym == group.ym %}aria-current="true"{% endif %}>
      {{ m.ym | monthLabel }}
    </a>
  {% endfor %}
</nav>

<!-- All posts for this month, with full content -->
<section class="content">
  {% for post in group.items %}
    <article class="entry">
      <time class="chip">{{ post.date | dateChip }}</time>
      <h2 class="entry-title">
        <a href="{{ post.url | url }}">{{ post.data.title }}</a>
      </h2>

      <div class="entry-body">
        {{ post.templateContent | safe }}
      </div>
    </article>
  {% endfor %}
</section>
