---
layout: base.njk

pagination:
  data: collections.postsByMonth   # each item: { ym, items }
  size: 1
  alias: group

# output like archive/2025-10/index.html
permalink: "posts/{{ group.ym }}/"

eleventyComputed:
  title: "Archive {{ group.ym | monthLabel }}"
  htmlClass: "is-archive"
---

<h1>{{ group.ym | monthLabel }}</h1>

<nav class="months">
  {% for m in collections.postsByMonth %}
    <a class="month"
       href="{{ ('/posts/' + m.ym + '/') | url }}"
       {% if m.ym == group.ym %}aria-current="true"{% endif %}>
      {{ m.ym | monthLabel }}
    </a>
  {% endfor %}
</nav>

<section class="content">
  {% for post in group.items %}
    <article class="entry">
      <time class="chip">{{ post.date | dateChip }}</time>
      <h2 class="entry-title">
        <a href="{{ post.url | url }}">{{ post.data.title }}</a>
      </h2>
      {% if post.data.summary %}
        <p class="entry-intro">{{ post.data.summary }}</p>
      {% endif %}
    </article>
  {% endfor %}
</section>
